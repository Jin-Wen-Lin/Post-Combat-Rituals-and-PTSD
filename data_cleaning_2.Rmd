---
title: "Data Cleaning"
date: "2024-10-21"
output: pdf_document
---

```{r setup, include=FALSE}
library(readxl)
library(knitr)  
library(kableExtra)
library(tidyverse)
library(stringr)
library(tidyverse)
```


```{r}
# Load Data
rituals <- read_excel("Copy of Coded data from postcombat rituals July 18.xlsx")
glimpse(rituals)
```

```{r}
# delete the second column (duplicated)
rituals <- subset(rituals, select = -`What is the name of the culture...2`)
# change the cloumn name of What is the name of the culture
colnames(rituals)[colnames(rituals) == "What is the name of the culture...4"] <- "Culture"
colnames(rituals)[colnames(rituals) == "What is the culture's region"] <- "Region"
colnames(rituals)[colnames(rituals) == "Does the text about the ritual describe Periods of Separation (Isolation) and Reintegration?"] <- "Isolation_Reintegration"
colnames(rituals)[colnames(rituals) == "Does the the text about the ritual describe Forgiveness and Acceptance by the community?"] <- "Forgiveness"
colnames(rituals)[colnames(rituals) == "Does the Ritual appear to involve a Purification/Cleansing of the participant?"] <- "Purification_Cleansing"
colnames(rituals)[colnames(rituals) == "Based on your reading of the text, would you consider the ritual therapeutic?"] <- "Therapeutic"
colnames(rituals)[colnames(rituals) == "Is the Ritual described as “healing” or “transformative”"] <- "Healing"

# Change Unsure into No
rituals[, 9:37] <- apply(rituals[, 9:37], 2, function(x) ifelse(x == "Unsure", "No", x))
```

# Second Question (correlation test) 

Use Chi-square test for checking the correlation between variables since the variables are binary or categorical.  

```{r}
# Column X and T
chisq.test(x = rituals$`Does the Ritual also include a Cultural Incentive (Reward)`, 
           y = rituals$`Does the Ritual appear to involve a Purification/Cleansing of the participant?`)
```

```{r}
# Column X and P
chisq.test(x = rituals$`Does the Ritual also include a Cultural Incentive (Reward)`, 
           y = rituals$`Based on your reading of the text, would you consider the ritual rite of passage?`)
```

```{r}
# Column X and AF
chisq.test(x = rituals$`Does the Ritual also include a Cultural Incentive (Reward)`,
           y = rituals$`Based on the reading and your understanding, does this appear to be a purification ritual?`)
```

Warning exists for the three correlation tests might due tto the reason of samll dataset. By looking the results above, we can see that the p-values for each test are very close to 0. Notice that for chisquare test, the null hypothesis is to assume there is no association between variables. Since the p-values are way smaller than 0.05, then we failed to reject the null hypothesis. Therefore, these three variables are not independent.  

```{r}

```

